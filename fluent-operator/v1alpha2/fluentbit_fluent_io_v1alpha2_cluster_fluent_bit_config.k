"""
This file was generated by the KCL auto-gen tool. DO NOT EDIT.
Editing this file might prove futile when you re-run the KCL auto-gen generate command.
"""
import regex
import k8s.apimachinery.pkg.apis.meta.v1


schema ClusterFluentBitConfig:
    """
    ClusterFluentBitConfig is the Schema for the cluster-level fluentbitconfigs API

    Attributes
    ----------
    apiVersion : str, default is "fluentbit.fluent.io/v1alpha2", required
        APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
    kind : str, default is "ClusterFluentBitConfig", required
        Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
    metadata : v1.ObjectMeta, default is Undefined, optional
        metadata
    spec : FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpec, default is Undefined, optional
        spec
    """


    apiVersion: "fluentbit.fluent.io/v1alpha2" = "fluentbit.fluent.io/v1alpha2"

    kind: "ClusterFluentBitConfig" = "ClusterFluentBitConfig"

    metadata?: v1.ObjectMeta

    spec?: FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpec


schema FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpec:
    """
    FluentBitConfigSpec defines the desired state of ClusterFluentBitConfig

    Attributes
    ----------
    filterSelector : FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecFilterSelector, default is Undefined, optional
        filter selector
    inputSelector : FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecInputSelector, default is Undefined, optional
        input selector
    namespace : str, default is Undefined, optional
        If namespace is defined, then the configmap and secret for fluent-bit is in this namespace. If it is not defined, it is in the namespace of the fluentd-operator
    outputSelector : FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecOutputSelector, default is Undefined, optional
        output selector
    parserSelector : FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecParserSelector, default is Undefined, optional
        parser selector
    service : FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecService, default is Undefined, optional
        service
    """


    filterSelector?: FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecFilterSelector

    inputSelector?: FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecInputSelector

    namespace?: str

    outputSelector?: FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecOutputSelector

    parserSelector?: FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecParserSelector

    service?: FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecService


schema FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecFilterSelector:
    """
    Select filter plugins

    Attributes
    ----------
    matchExpressions : [FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecFilterSelectorMatchExpressionsItems0], default is Undefined, optional
        matchExpressions is a list of label selector requirements. The requirements are ANDed.
    matchLabels : {str:str}, default is Undefined, optional
        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element of matchExpressions, whose key field is "key", the operator is "In", and the values array contains only "value". The requirements are ANDed.
    """


    matchExpressions?: [FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecFilterSelectorMatchExpressionsItems0]

    matchLabels?: {str:str}


schema FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecFilterSelectorMatchExpressionsItems0:
    """
    A label selector requirement is a selector that contains values, a key, and an operator that relates the key and values.

    Attributes
    ----------
    key : str, default is Undefined, required
        key is the label key that the selector applies to.
    operator : str, default is Undefined, required
        operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.
    values : [str], default is Undefined, optional
        values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.
    """


    key: str

    operator: str

    values?: [str]


schema FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecInputSelector:
    """
    Select input plugins

    Attributes
    ----------
    matchExpressions : [FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecInputSelectorMatchExpressionsItems0], default is Undefined, optional
        matchExpressions is a list of label selector requirements. The requirements are ANDed.
    matchLabels : {str:str}, default is Undefined, optional
        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element of matchExpressions, whose key field is "key", the operator is "In", and the values array contains only "value". The requirements are ANDed.
    """


    matchExpressions?: [FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecInputSelectorMatchExpressionsItems0]

    matchLabels?: {str:str}


schema FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecInputSelectorMatchExpressionsItems0:
    """
    A label selector requirement is a selector that contains values, a key, and an operator that relates the key and values.

    Attributes
    ----------
    key : str, default is Undefined, required
        key is the label key that the selector applies to.
    operator : str, default is Undefined, required
        operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.
    values : [str], default is Undefined, optional
        values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.
    """


    key: str

    operator: str

    values?: [str]


schema FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecOutputSelector:
    """
    Select output plugins

    Attributes
    ----------
    matchExpressions : [FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecOutputSelectorMatchExpressionsItems0], default is Undefined, optional
        matchExpressions is a list of label selector requirements. The requirements are ANDed.
    matchLabels : {str:str}, default is Undefined, optional
        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element of matchExpressions, whose key field is "key", the operator is "In", and the values array contains only "value". The requirements are ANDed.
    """


    matchExpressions?: [FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecOutputSelectorMatchExpressionsItems0]

    matchLabels?: {str:str}


schema FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecOutputSelectorMatchExpressionsItems0:
    """
    A label selector requirement is a selector that contains values, a key, and an operator that relates the key and values.

    Attributes
    ----------
    key : str, default is Undefined, required
        key is the label key that the selector applies to.
    operator : str, default is Undefined, required
        operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.
    values : [str], default is Undefined, optional
        values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.
    """


    key: str

    operator: str

    values?: [str]


schema FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecParserSelector:
    """
    Select parser plugins

    Attributes
    ----------
    matchExpressions : [FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecParserSelectorMatchExpressionsItems0], default is Undefined, optional
        matchExpressions is a list of label selector requirements. The requirements are ANDed.
    matchLabels : {str:str}, default is Undefined, optional
        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element of matchExpressions, whose key field is "key", the operator is "In", and the values array contains only "value". The requirements are ANDed.
    """


    matchExpressions?: [FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecParserSelectorMatchExpressionsItems0]

    matchLabels?: {str:str}


schema FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecParserSelectorMatchExpressionsItems0:
    """
    A label selector requirement is a selector that contains values, a key, and an operator that relates the key and values.

    Attributes
    ----------
    key : str, default is Undefined, required
        key is the label key that the selector applies to.
    operator : str, default is Undefined, required
        operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.
    values : [str], default is Undefined, optional
        values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.
    """


    key: str

    operator: str

    values?: [str]


schema FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecService:
    """
    Service defines the global behaviour of the Fluent Bit engine.

    Attributes
    ----------
    daemon : bool, default is Undefined, optional
        If true go to background on start
    flushSeconds : int, default is Undefined, optional
        Interval to flush output
    graceSeconds : int, default is Undefined, optional
        Wait time on exit
    hcErrorsCount : int, default is Undefined, optional
        the error count to meet the unhealthy requirement, this is a sum for all output plugins in a defined HC_Period, example for output error: [2022/02/16 10:44:10] [ warn] [engine] failed to flush chunk '1-1645008245.491540684.flb', retry in 7 seconds: task_id=0, input=forward.1 > output=cloudwatch_logs.3 (out_id=3)
    hcPeriod : int, default is Undefined, optional
        The time period by second to count the error and retry failure data point
    hcRetryFailureCount : int, default is Undefined, optional
        the retry failure count to meet the unhealthy requirement, this is a sum for all output plugins in a defined HC_Period, example for retry failure: [2022/02/16 20:11:36] [ warn] [engine] chunk '1-1645042288.260516436.flb' cannot be retried: task_id=0, input=tcp.3 > output=cloudwatch_logs.1
    healthCheck : bool, default is Undefined, optional
        enable Health check feature at http://127.0.0.1:2020/api/v1/health Note: Enabling this will not automatically configure kubernetes to use fluentbit's healthcheck endpoint
    httpListen : str, default is Undefined, optional
        Address to listen
    httpPort : int, default is Undefined, optional
        Port to listen
    httpServer : bool, default is Undefined, optional
        If true enable statistics HTTP server
    logFile : str, default is Undefined, optional
        File to log diagnostic output
    logLevel : str, default is Undefined, optional
        Diagnostic level (error/warning/info/debug/trace)
    parsersFile : str, default is Undefined, optional
        Optional 'parsers' config file (can be multiple)
    storage : FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecServiceStorage, default is Undefined, optional
        storage
    """


    daemon?: bool

    flushSeconds?: int

    graceSeconds?: int

    hcErrorsCount?: int

    hcPeriod?: int

    hcRetryFailureCount?: int

    healthCheck?: bool

    httpListen?: str

    httpPort?: int

    httpServer?: bool

    logFile?: str

    logLevel?: "off" | "error" | "warning" | "info" | "debug" | "trace"

    parsersFile?: str

    storage?: FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecServiceStorage


    check:
        hcErrorsCount >= 1
        hcPeriod >= 1
        hcRetryFailureCount >= 1
        regex.match(str(httpListen), r"^\d{1,3}.\d{1,3}.\d{1,3}.\d{1,3}$") if httpListen
        httpPort <= 65535
        httpPort >= 1


schema FluentbitFluentIoV1alpha2ClusterFluentBitConfigSpecServiceStorage:
    """
    Configure a global environment for the storage layer in Service. It is recommended to configure the volume and volumeMount separately for this storage. The hostPath type should be used for that Volume in Fluentbit daemon set.

    Attributes
    ----------
    backlogMemLimit : str, default is Undefined, optional
        This option configure a hint of maximum value of memory to use when processing these records
    checksum : str, default is Undefined, optional
        Enable the data integrity check when writing and reading data from the filesystem
    deleteIrrecoverableChunks : str, default is Undefined, optional
        When enabled, irrecoverable chunks will be deleted during runtime, and any other irrecoverable chunk located in the configured storage path directory will be deleted when Fluent-Bit starts.
    maxChunksUp : int, default is Undefined, optional
        If the input plugin has enabled filesystem storage type, this property sets the maximum number of Chunks that can be up in memory
    metrics : str, default is Undefined, optional
        If http_server option has been enabled in the Service section, this option registers a new endpoint where internal metrics of the storage layer can be consumed
    path : str, default is Undefined, optional
        Select an optional location in the file system to store streams and chunks of data/
    sync : str, default is Undefined, optional
        Configure the synchronization mode used to store the data into the file system
    """


    backlogMemLimit?: str

    checksum?: "on" | "off"

    deleteIrrecoverableChunks?: "on" | "off"

    maxChunksUp?: int

    metrics?: "on" | "off"

    path?: str

    sync?: "normal" | "full"


