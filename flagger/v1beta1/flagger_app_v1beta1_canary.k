"""
This file was generated by the KCL auto-gen tool. DO NOT EDIT.
Editing this file might prove futile when you re-run the KCL auto-gen generate command.
"""
import regex
import k8s.apimachinery.pkg.apis.meta.v1


schema Canary:
    """
    Canary is the Schema for the Canary API.

    Attributes
    ----------
    apiVersion : str, default is "flagger.app/v1beta1", required
        APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
    kind : str, default is "Canary", required
        Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
    metadata : v1.ObjectMeta, default is Undefined, optional
        metadata
    spec : FlaggerAppV1beta1CanarySpec, default is Undefined, optional
        spec
    status : FlaggerAppV1beta1CanaryStatus, default is Undefined, optional
        status
    """


    apiVersion: "flagger.app/v1beta1" = "flagger.app/v1beta1"

    kind: "Canary" = "Canary"

    metadata?: v1.ObjectMeta

    spec?: FlaggerAppV1beta1CanarySpec

    status?: FlaggerAppV1beta1CanaryStatus


schema FlaggerAppV1beta1CanarySpec:
    """
    CanarySpec defines the desired state of a Canary.

    Attributes
    ----------
    analysis : FlaggerAppV1beta1CanarySpecAnalysis, default is Undefined, required
        analysis
    autoscalerRef : FlaggerAppV1beta1CanarySpecAutoscalerRef, default is Undefined, optional
        autoscaler ref
    ingressRef : FlaggerAppV1beta1CanarySpecIngressRef, default is Undefined, optional
        ingress ref
    metricsServer : str, default is Undefined, optional
        Prometheus URL
    progressDeadlineSeconds : float, default is Undefined, optional
        Deployment progress deadline
    provider : str, default is Undefined, optional
        Traffic managent provider
    revertOnDeletion : bool, default is Undefined, optional
        Revert mutated resources to original spec on deletion
    routeRef : FlaggerAppV1beta1CanarySpecRouteRef, default is Undefined, optional
        route ref
    service : FlaggerAppV1beta1CanarySpecService, default is Undefined, required
        service
    skipAnalysis : bool, default is Undefined, optional
        Skip analysis and promote canary
    suspend : bool, default is Undefined, optional
        Suspend Canary disabling/pausing all canary runs
    targetRef : FlaggerAppV1beta1CanarySpecTargetRef, default is Undefined, required
        target ref
    upstreamRef : FlaggerAppV1beta1CanarySpecUpstreamRef, default is Undefined, optional
        upstream ref
    """


    analysis: FlaggerAppV1beta1CanarySpecAnalysis

    autoscalerRef?: FlaggerAppV1beta1CanarySpecAutoscalerRef

    ingressRef?: FlaggerAppV1beta1CanarySpecIngressRef

    metricsServer?: str

    progressDeadlineSeconds?: float

    provider?: str

    revertOnDeletion?: bool

    routeRef?: FlaggerAppV1beta1CanarySpecRouteRef

    service: FlaggerAppV1beta1CanarySpecService

    skipAnalysis?: bool

    suspend?: bool

    targetRef: FlaggerAppV1beta1CanarySpecTargetRef

    upstreamRef?: FlaggerAppV1beta1CanarySpecUpstreamRef


schema FlaggerAppV1beta1CanarySpecAnalysis:
    """
    Canary analysis for this canary

    Attributes
    ----------
    alerts : [FlaggerAppV1beta1CanarySpecAnalysisAlertsItems0], default is Undefined, optional
        Alert list for this canary analysis
    canaryReadyThreshold : float, default is Undefined, optional
        Percentage of pods that need to be available to consider canary as ready
    interval : str, default is Undefined, optional
        Schedule interval for this canary
    iterations : float, default is Undefined, optional
        Number of checks to run for A/B Testing and Blue/Green
    match : [FlaggerAppV1beta1CanarySpecAnalysisMatchItems0], default is Undefined, optional
        A/B testing match conditions
    maxWeight : float, default is Undefined, optional
        Max traffic weight routed to canary
    metrics : [FlaggerAppV1beta1CanarySpecAnalysisMetricsItems0], default is Undefined, optional
        Metric check list for this canary
    mirror : bool, default is Undefined, optional
        Mirror traffic to canary
    mirrorWeight : float, default is Undefined, optional
        Weight of traffic to be mirrored
    primaryReadyThreshold : float, default is Undefined, optional
        Percentage of pods that need to be available to consider primary as ready
    sessionAffinity : FlaggerAppV1beta1CanarySpecAnalysisSessionAffinity, default is Undefined, optional
        session affinity
    stepWeight : float, default is Undefined, optional
        Incremental traffic step weight for the analysis phase
    stepWeightPromotion : float, default is Undefined, optional
        Incremental traffic step weight for the promotion phase
    stepWeights : [float], default is Undefined, optional
        Incremental traffic step weights for the analysis phase
    threshold : float, default is Undefined, optional
        Max number of failed checks before rollback
    webhooks : [FlaggerAppV1beta1CanarySpecAnalysisWebhooksItems0], default is Undefined, optional
        Webhook list for this canary
    """


    alerts?: [FlaggerAppV1beta1CanarySpecAnalysisAlertsItems0]

    canaryReadyThreshold?: float

    interval?: str

    iterations?: float

    match?: [FlaggerAppV1beta1CanarySpecAnalysisMatchItems0]

    maxWeight?: float

    metrics?: [FlaggerAppV1beta1CanarySpecAnalysisMetricsItems0]

    mirror?: bool

    mirrorWeight?: float

    primaryReadyThreshold?: float

    sessionAffinity?: FlaggerAppV1beta1CanarySpecAnalysisSessionAffinity

    stepWeight?: float

    stepWeightPromotion?: float

    stepWeights?: [float]

    threshold?: float

    webhooks?: [FlaggerAppV1beta1CanarySpecAnalysisWebhooksItems0]


    check:
        regex.match(str(interval), r"^[0-9]+(m|s)") if interval


schema FlaggerAppV1beta1CanarySpecAnalysisAlertsItems0:
    """
    flagger app v1beta1 canary spec analysis alerts items0

    Attributes
    ----------
    name : str, default is Undefined, required
        Name of the this alert
    providerRef : FlaggerAppV1beta1CanarySpecAnalysisAlertsItems0ProviderRef, default is Undefined, required
        provider ref
    severity : str, default is Undefined, optional
        Severity level can be info, warn, error (default info)
    """


    name: str

    providerRef: FlaggerAppV1beta1CanarySpecAnalysisAlertsItems0ProviderRef

    severity?: "" | "info" | "warn" | "error"


schema FlaggerAppV1beta1CanarySpecAnalysisAlertsItems0ProviderRef:
    """
    Alert provider reference

    Attributes
    ----------
    name : str, default is Undefined, required
        Name of the alert provider
    namespace : str, default is Undefined, optional
        Namespace of the alert provider
    """


    name: str

    namespace?: str


schema FlaggerAppV1beta1CanarySpecAnalysisMatchItems0:
    """
    flagger app v1beta1 canary spec analysis match items0

    Attributes
    ----------
    headers : {str:FlaggerAppV1beta1CanarySpecAnalysisMatchItems0HeadersAnon}, default is Undefined, optional
        headers
    queryParams : {str:FlaggerAppV1beta1CanarySpecAnalysisMatchItems0QueryParamsAnon}, default is Undefined, optional
        Query parameters for matching.
    sourceLabels : {str:str}, default is Undefined, optional
        Applicable only when the 'mesh' gateway is included in the service.gateways list
    """


    headers?: {str:FlaggerAppV1beta1CanarySpecAnalysisMatchItems0HeadersAnon}

    queryParams?: {str:FlaggerAppV1beta1CanarySpecAnalysisMatchItems0QueryParamsAnon}

    sourceLabels?: {str:str}


schema FlaggerAppV1beta1CanarySpecAnalysisMatchItems0HeadersAnon:
    """
    flagger app v1beta1 canary spec analysis match items0 headers anon

    Attributes
    ----------
    exact : str, default is Undefined, optional
        exact
    prefix : str, default is Undefined, optional
        prefix
    regex : str, default is Undefined, optional
        RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax)
    suffix : str, default is Undefined, optional
        suffix
    """


    exact?: str

    prefix?: str

    regex?: str

    suffix?: str


schema FlaggerAppV1beta1CanarySpecAnalysisMatchItems0QueryParamsAnon:
    """
    flagger app v1beta1 canary spec analysis match items0 query params anon

    Attributes
    ----------
    exact : str, default is Undefined, optional
        exact
    prefix : str, default is Undefined, optional
        prefix
    regex : str, default is Undefined, optional
        RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
    """


    exact?: str

    prefix?: str

    regex?: str


schema FlaggerAppV1beta1CanarySpecAnalysisMetricsItems0:
    """
    flagger app v1beta1 canary spec analysis metrics items0

    Attributes
    ----------
    interval : str, default is Undefined, optional
        Interval of the query
    name : str, default is Undefined, required
        Name of the metric
    query : str, default is Undefined, optional
        Prometheus query
    templateRef : FlaggerAppV1beta1CanarySpecAnalysisMetricsItems0TemplateRef, default is Undefined, optional
        template ref
    templateVariables : {str:str}, default is Undefined, optional
        Additional variables to be used in the metrics query (key-value pairs)
    threshold : float, default is Undefined, optional
        Max value accepted for this metric
    thresholdRange : FlaggerAppV1beta1CanarySpecAnalysisMetricsItems0ThresholdRange, default is Undefined, optional
        threshold range
    """


    interval?: str

    name: str

    query?: str

    templateRef?: FlaggerAppV1beta1CanarySpecAnalysisMetricsItems0TemplateRef

    templateVariables?: {str:str}

    threshold?: float

    thresholdRange?: FlaggerAppV1beta1CanarySpecAnalysisMetricsItems0ThresholdRange


    check:
        regex.match(str(interval), r"^[0-9]+(m|s)") if interval


schema FlaggerAppV1beta1CanarySpecAnalysisMetricsItems0TemplateRef:
    """
    Metric template reference

    Attributes
    ----------
    name : str, default is Undefined, required
        Name of this metric template
    namespace : str, default is Undefined, optional
        Namespace of this metric template
    """


    name: str

    namespace?: str


schema FlaggerAppV1beta1CanarySpecAnalysisMetricsItems0ThresholdRange:
    """
    Range accepted for this metric

    Attributes
    ----------
    max : float, default is Undefined, optional
        Max value accepted for this metric
    min : float, default is Undefined, optional
        Min value accepted for this metric
    """


    max?: float

    min?: float


schema FlaggerAppV1beta1CanarySpecAnalysisSessionAffinity:
    """
    SessionAffinity represents the session affinity settings for a canary run.

    Attributes
    ----------
    cookieName : str, default is Undefined, required
        CookieName is the key that will be used for the session affinity cookie.
    maxAge : float, default is 86400, optional
        MaxAge indicates the number of seconds until the session affinity cookie will expire.
    """


    cookieName: str

    maxAge?: float = 86400


schema FlaggerAppV1beta1CanarySpecAnalysisWebhooksItems0:
    """
    flagger app v1beta1 canary spec analysis webhooks items0

    Attributes
    ----------
    metadata : {str:str}, default is Undefined, optional
        Metadata (key-value pairs) for this webhook
    muteAlert : bool, default is Undefined, optional
        Mute all alerts for the webhook
    name : str, default is Undefined, required
        Name of the webhook
    timeout : str, default is Undefined, optional
        Request timeout for this webhook
    $type : str, default is Undefined, optional
        Type of the webhook pre, post or during rollout
    url : str, default is Undefined, required
        URL address of this webhook
    """


    metadata?: {str:str}

    muteAlert?: bool

    name: str

    timeout?: str

    $type?: "" | "confirm-rollout" | "pre-rollout" | "rollout" | "confirm-promotion" | "post-rollout" | "event" | "rollback" | "confirm-traffic-increase"

    url: str


    check:
        regex.match(str(timeout), r"^[0-9]+(m|s)") if timeout


schema FlaggerAppV1beta1CanarySpecAutoscalerRef:
    """
    Scaler selector

    Attributes
    ----------
    apiVersion : str, default is Undefined, required
        api version
    kind : str, default is Undefined, required
        kind
    name : str, default is Undefined, required
        name
    primaryScalerQueries : {str:str}, default is Undefined, optional
        primary scaler queries
    primaryScalerReplicas : FlaggerAppV1beta1CanarySpecAutoscalerRefPrimaryScalerReplicas, default is Undefined, optional
        primary scaler replicas
    """


    apiVersion: str

    kind: "HorizontalPodAutoscaler" | "ScaledObject"

    name: str

    primaryScalerQueries?: {str:str}

    primaryScalerReplicas?: FlaggerAppV1beta1CanarySpecAutoscalerRefPrimaryScalerReplicas


schema FlaggerAppV1beta1CanarySpecAutoscalerRefPrimaryScalerReplicas:
    """
    flagger app v1beta1 canary spec autoscaler ref primary scaler replicas

    Attributes
    ----------
    maxReplicas : float, default is Undefined, optional
        max replicas
    minReplicas : float, default is Undefined, optional
        min replicas
    """


    maxReplicas?: float

    minReplicas?: float


schema FlaggerAppV1beta1CanarySpecIngressRef:
    """
    Ingress selector

    Attributes
    ----------
    apiVersion : str, default is Undefined, required
        api version
    kind : str, default is Undefined, required
        kind
    name : str, default is Undefined, required
        name
    """


    apiVersion: str

    kind: "Ingress"

    name: str


schema FlaggerAppV1beta1CanarySpecRouteRef:
    """
    APISIX route selector

    Attributes
    ----------
    apiVersion : str, default is Undefined, required
        api version
    kind : str, default is Undefined, required
        kind
    name : str, default is Undefined, required
        name
    """


    apiVersion: str

    kind: "ApisixRoute"

    name: str


schema FlaggerAppV1beta1CanarySpecService:
    """
    Kubernetes Service spec

    Attributes
    ----------
    apex : FlaggerAppV1beta1CanarySpecServiceApex, default is Undefined, optional
        apex
    appProtocol : str, default is Undefined, optional
        Application protocol of the port
    backends : [str], default is Undefined, optional
        AppMesh backend array
    canary : FlaggerAppV1beta1CanarySpecServiceCanary, default is Undefined, optional
        canary
    corsPolicy : FlaggerAppV1beta1CanarySpecServiceCorsPolicy, default is Undefined, optional
        cors policy
    delegation : bool, default is Undefined, optional
        enable behaving as a delegate VirtualService
    gatewayRefs : [FlaggerAppV1beta1CanarySpecServiceGatewayRefsItems0], default is Undefined, optional
        The list of parent Gateways for a HTTPRoute
    gateways : [str], default is Undefined, optional
        The list of Istio gateway for this virtual service
    headers : FlaggerAppV1beta1CanarySpecServiceHeaders, default is Undefined, optional
        headers
    hosts : [str], default is Undefined, optional
        The list of host names for this service
    match : [FlaggerAppV1beta1CanarySpecServiceMatchItems0], default is Undefined, optional
        URI match conditions
    meshName : str, default is Undefined, optional
        AppMesh mesh name
    mirror : [FlaggerAppV1beta1CanarySpecServiceMirrorItems0], default is Undefined, optional
        Mirror defines a schema for a filter that mirrors requests.
    name : str, default is Undefined, optional
        Kubernetes service name
    port : float, default is Undefined, required
        Container port number
    portDiscovery : bool, default is Undefined, optional
        Enable port dicovery
    portName : str, default is Undefined, optional
        Container port name
    primary : FlaggerAppV1beta1CanarySpecServicePrimary, default is Undefined, optional
        primary
    retries : FlaggerAppV1beta1CanarySpecServiceRetries, default is Undefined, optional
        retries
    rewrite : FlaggerAppV1beta1CanarySpecServiceRewrite, default is Undefined, optional
        rewrite
    targetPort : int | str, default is Undefined, optional
        Container target port name
    timeout : str, default is Undefined, optional
        HTTP or gRPC request timeout
    trafficPolicy : FlaggerAppV1beta1CanarySpecServiceTrafficPolicy, default is Undefined, optional
        traffic policy
    """


    apex?: FlaggerAppV1beta1CanarySpecServiceApex

    appProtocol?: str

    backends?: [str]

    canary?: FlaggerAppV1beta1CanarySpecServiceCanary

    corsPolicy?: FlaggerAppV1beta1CanarySpecServiceCorsPolicy

    delegation?: bool

    gatewayRefs?: [FlaggerAppV1beta1CanarySpecServiceGatewayRefsItems0]

    gateways?: [str]

    headers?: FlaggerAppV1beta1CanarySpecServiceHeaders

    hosts?: [str]

    match?: [FlaggerAppV1beta1CanarySpecServiceMatchItems0]

    meshName?: str

    mirror?: [FlaggerAppV1beta1CanarySpecServiceMirrorItems0]

    name?: str

    port: float

    portDiscovery?: bool

    portName?: str

    primary?: FlaggerAppV1beta1CanarySpecServicePrimary

    retries?: FlaggerAppV1beta1CanarySpecServiceRetries

    rewrite?: FlaggerAppV1beta1CanarySpecServiceRewrite

    targetPort?: int | str

    timeout?: str

    trafficPolicy?: FlaggerAppV1beta1CanarySpecServiceTrafficPolicy


    check:
        len(gatewayRefs) <= 32


schema FlaggerAppV1beta1CanarySpecServiceApex:
    """
    Metadata to add to the apex service

    Attributes
    ----------
    annotations : {str:str}, default is Undefined, optional
        annotations
    labels : {str:str}, default is Undefined, optional
        labels
    """


    annotations?: {str:str}

    labels?: {str:str}


schema FlaggerAppV1beta1CanarySpecServiceCanary:
    """
    Metadata to add to the canary service

    Attributes
    ----------
    annotations : {str:str}, default is Undefined, optional
        annotations
    labels : {str:str}, default is Undefined, optional
        labels
    """


    annotations?: {str:str}

    labels?: {str:str}


schema FlaggerAppV1beta1CanarySpecServiceCorsPolicy:
    """
    Istio Cross-Origin Resource Sharing policy (CORS)

    Attributes
    ----------
    allowCredentials : bool, default is Undefined, optional
        allow credentials
    allowHeaders : [str], default is Undefined, optional
        allow headers
    allowMethods : [str], default is Undefined, optional
        List of HTTP methods allowed to access the resource
    allowOrigin : [str], default is Undefined, optional
        The list of origins that are allowed to perform CORS requests.
    allowOrigins : [FlaggerAppV1beta1CanarySpecServiceCorsPolicyAllowOriginsItems0], default is Undefined, optional
        String patterns that match allowed origins
    exposeHeaders : [str], default is Undefined, optional
        expose headers
    maxAge : str, default is Undefined, optional
        max age
    """


    allowCredentials?: bool

    allowHeaders?: [str]

    allowMethods?: [str]

    allowOrigin?: [str]

    allowOrigins?: [FlaggerAppV1beta1CanarySpecServiceCorsPolicyAllowOriginsItems0]

    exposeHeaders?: [str]

    maxAge?: str


schema FlaggerAppV1beta1CanarySpecServiceCorsPolicyAllowOriginsItems0:
    """
    flagger app v1beta1 canary spec service cors policy allow origins items0

    Attributes
    ----------
    exact : str, default is Undefined, optional
        exact
    prefix : str, default is Undefined, optional
        prefix
    regex : str, default is Undefined, optional
        regex
    """


    exact?: str

    prefix?: str

    regex?: str


schema FlaggerAppV1beta1CanarySpecServiceGatewayRefsItems0:
    """
    flagger app v1beta1 canary spec service gateway refs items0

    Attributes
    ----------
    group : str, default is "gateway.networking.k8s.io", optional
        group
    kind : str, default is "Gateway", optional
        kind
    name : str, default is Undefined, required
        name
    namespace : str, default is Undefined, optional
        namespace
    port : int, default is Undefined, optional
        port
    sectionName : str, default is Undefined, optional
        section name
    """


    group?: str = "gateway.networking.k8s.io"

    kind?: str = "Gateway"

    name: str

    namespace?: str

    port?: int

    sectionName?: str


    check:
        len(group) <= 253
        regex.match(str(group), r"^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$") if group
        len(kind) <= 63
        len(kind) >= 1
        regex.match(str(kind), r"^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$") if kind
        len(name) <= 253
        len(name) >= 1
        len(namespace) <= 63
        len(namespace) >= 1
        regex.match(str(namespace), r"^[a-z0-9]([-a-z0-9]*[a-z0-9])?$") if namespace
        port <= 65535
        port >= 1
        len(sectionName) <= 253
        len(sectionName) >= 1
        regex.match(str(sectionName), r"^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$") if sectionName


schema FlaggerAppV1beta1CanarySpecServiceHeaders:
    """
    Headers operations

    Attributes
    ----------
    request : FlaggerAppV1beta1CanarySpecServiceHeadersRequest, default is Undefined, optional
        request
    response : FlaggerAppV1beta1CanarySpecServiceHeadersResponse, default is Undefined, optional
        response
    """


    request?: FlaggerAppV1beta1CanarySpecServiceHeadersRequest

    response?: FlaggerAppV1beta1CanarySpecServiceHeadersResponse


schema FlaggerAppV1beta1CanarySpecServiceHeadersRequest:
    """
    flagger app v1beta1 canary spec service headers request

    Attributes
    ----------
    add : {str:str}, default is Undefined, optional
        add
    remove : [str], default is Undefined, optional
        remove
    set : {str:str}, default is Undefined, optional
        set
    """


    add?: {str:str}

    remove?: [str]

    set?: {str:str}


schema FlaggerAppV1beta1CanarySpecServiceHeadersResponse:
    """
    flagger app v1beta1 canary spec service headers response

    Attributes
    ----------
    add : {str:str}, default is Undefined, optional
        add
    remove : [str], default is Undefined, optional
        remove
    set : {str:str}, default is Undefined, optional
        set
    """


    add?: {str:str}

    remove?: [str]

    set?: {str:str}


schema FlaggerAppV1beta1CanarySpecServiceMatchItems0:
    """
    flagger app v1beta1 canary spec service match items0

    Attributes
    ----------
    authority : FlaggerAppV1beta1CanarySpecServiceMatchItems0Authority, default is Undefined, optional
        authority
    gateways : [str], default is Undefined, optional
        Names of gateways where the rule should be applied.
    headers : {str:FlaggerAppV1beta1CanarySpecServiceMatchItems0HeadersAnon}, default is Undefined, optional
        headers
    ignoreUriCase : bool, default is Undefined, optional
        Flag to specify whether the URI matching should be case-insensitive.
    method : FlaggerAppV1beta1CanarySpecServiceMatchItems0Method, default is Undefined, optional
        method
    name : str, default is Undefined, optional
        The name assigned to a match.
    port : int, default is Undefined, optional
        Specifies the ports on the host that is being addressed.
    queryParams : {str:FlaggerAppV1beta1CanarySpecServiceMatchItems0QueryParamsAnon}, default is Undefined, optional
        Query parameters for matching.
    scheme : FlaggerAppV1beta1CanarySpecServiceMatchItems0Scheme, default is Undefined, optional
        scheme
    sourceLabels : {str:str}, default is Undefined, optional
        source labels
    sourceNamespace : str, default is Undefined, optional
        Source namespace constraining the applicability of a rule to workloads in that namespace.
    uri : FlaggerAppV1beta1CanarySpecServiceMatchItems0URI, default is Undefined, optional
        uri
    withoutHeaders : {str:FlaggerAppV1beta1CanarySpecServiceMatchItems0WithoutHeadersAnon}, default is Undefined, optional
        withoutHeader has the same syntax with the header, but has opposite meaning.
    """


    authority?: FlaggerAppV1beta1CanarySpecServiceMatchItems0Authority

    gateways?: [str]

    headers?: {str:FlaggerAppV1beta1CanarySpecServiceMatchItems0HeadersAnon}

    ignoreUriCase?: bool

    method?: FlaggerAppV1beta1CanarySpecServiceMatchItems0Method

    name?: str

    port?: int

    queryParams?: {str:FlaggerAppV1beta1CanarySpecServiceMatchItems0QueryParamsAnon}

    scheme?: FlaggerAppV1beta1CanarySpecServiceMatchItems0Scheme

    sourceLabels?: {str:str}

    sourceNamespace?: str

    uri?: FlaggerAppV1beta1CanarySpecServiceMatchItems0URI

    withoutHeaders?: {str:FlaggerAppV1beta1CanarySpecServiceMatchItems0WithoutHeadersAnon}


schema FlaggerAppV1beta1CanarySpecServiceMatchItems0Authority:
    """
    flagger app v1beta1 canary spec service match items0 authority

    Attributes
    ----------
    exact : str, default is Undefined, optional
        exact
    prefix : str, default is Undefined, optional
        prefix
    regex : str, default is Undefined, optional
        RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
    """


    exact?: str

    prefix?: str

    regex?: str


schema FlaggerAppV1beta1CanarySpecServiceMatchItems0HeadersAnon:
    """
    flagger app v1beta1 canary spec service match items0 headers anon

    Attributes
    ----------
    exact : str, default is Undefined, optional
        exact
    prefix : str, default is Undefined, optional
        prefix
    regex : str, default is Undefined, optional
        RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
    """


    exact?: str

    prefix?: str

    regex?: str


schema FlaggerAppV1beta1CanarySpecServiceMatchItems0Method:
    """
    flagger app v1beta1 canary spec service match items0 method

    Attributes
    ----------
    exact : str, default is Undefined, optional
        exact
    prefix : str, default is Undefined, optional
        prefix
    regex : str, default is Undefined, optional
        RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
    """


    exact?: str

    prefix?: str

    regex?: str


schema FlaggerAppV1beta1CanarySpecServiceMatchItems0QueryParamsAnon:
    """
    flagger app v1beta1 canary spec service match items0 query params anon

    Attributes
    ----------
    exact : str, default is Undefined, optional
        exact
    prefix : str, default is Undefined, optional
        prefix
    regex : str, default is Undefined, optional
        RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
    """


    exact?: str

    prefix?: str

    regex?: str


schema FlaggerAppV1beta1CanarySpecServiceMatchItems0Scheme:
    """
    flagger app v1beta1 canary spec service match items0 scheme

    Attributes
    ----------
    exact : str, default is Undefined, optional
        exact
    prefix : str, default is Undefined, optional
        prefix
    regex : str, default is Undefined, optional
        RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
    """


    exact?: str

    prefix?: str

    regex?: str


schema FlaggerAppV1beta1CanarySpecServiceMatchItems0URI:
    """
    flagger app v1beta1 canary spec service match items0 URI

    Attributes
    ----------
    exact : str, default is Undefined, optional
        exact
    prefix : str, default is Undefined, optional
        prefix
    regex : str, default is Undefined, optional
        RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
    """


    exact?: str

    prefix?: str

    regex?: str


schema FlaggerAppV1beta1CanarySpecServiceMatchItems0WithoutHeadersAnon:
    """
    flagger app v1beta1 canary spec service match items0 without headers anon

    Attributes
    ----------
    exact : str, default is Undefined, optional
        exact
    prefix : str, default is Undefined, optional
        prefix
    regex : str, default is Undefined, optional
        RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
    """


    exact?: str

    prefix?: str

    regex?: str


schema FlaggerAppV1beta1CanarySpecServiceMirrorItems0:
    """
    flagger app v1beta1 canary spec service mirror items0

    Attributes
    ----------
    backendRef : FlaggerAppV1beta1CanarySpecServiceMirrorItems0BackendRef, default is Undefined, optional
        backend ref
    """


    backendRef?: FlaggerAppV1beta1CanarySpecServiceMirrorItems0BackendRef


schema FlaggerAppV1beta1CanarySpecServiceMirrorItems0BackendRef:
    """
    flagger app v1beta1 canary spec service mirror items0 backend ref

    Attributes
    ----------
    group : str, default is Undefined, optional
        group
    kind : str, default is "Service", optional
        kind
    name : str, default is Undefined, required
        name
    namespace : str, default is Undefined, optional
        namespace
    port : int, default is Undefined, optional
        port
    """


    group?: str = ""

    kind?: str = "Service"

    name: str

    namespace?: str

    port?: int


    check:
        len(group) <= 253
        regex.match(str(group), r"^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$") if group
        len(kind) <= 63
        len(kind) >= 1
        regex.match(str(kind), r"^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$") if kind
        len(name) <= 253
        len(name) >= 1
        len(namespace) <= 63
        len(namespace) >= 1
        regex.match(str(namespace), r"^[a-z0-9]([-a-z0-9]*[a-z0-9])?$") if namespace
        port <= 65535
        port >= 1


schema FlaggerAppV1beta1CanarySpecServicePrimary:
    """
    Metadata to add to the primary service

    Attributes
    ----------
    annotations : {str:str}, default is Undefined, optional
        annotations
    labels : {str:str}, default is Undefined, optional
        labels
    """


    annotations?: {str:str}

    labels?: {str:str}


schema FlaggerAppV1beta1CanarySpecServiceRetries:
    """
    Retry policy for HTTP requests

    Attributes
    ----------
    attempts : int, default is Undefined, optional
        Number of retries for a given request
    perTryTimeout : str, default is Undefined, optional
        Timeout per retry attempt for a given request
    retryOn : str, default is Undefined, optional
        Specifies the conditions under which retry takes place
    """


    attempts?: int

    perTryTimeout?: str

    retryOn?: str


schema FlaggerAppV1beta1CanarySpecServiceRewrite:
    """
    Rewrite HTTP URIs

    Attributes
    ----------
    authority : str, default is Undefined, optional
        authority
    $type : str, default is Undefined, optional
        type
    uri : str, default is Undefined, optional
        uri
    """


    authority?: str

    $type?: str

    uri?: str


schema FlaggerAppV1beta1CanarySpecServiceTrafficPolicy:
    """
    Istio traffic policy

    Attributes
    ----------
    connectionPool : FlaggerAppV1beta1CanarySpecServiceTrafficPolicyConnectionPool, default is Undefined, optional
        connection pool
    loadBalancer : FlaggerAppV1beta1CanarySpecServiceTrafficPolicyLoadBalancer, default is Undefined, optional
        load balancer
    outlierDetection : FlaggerAppV1beta1CanarySpecServiceTrafficPolicyOutlierDetection, default is Undefined, optional
        outlier detection
    tls : FlaggerAppV1beta1CanarySpecServiceTrafficPolicyTLS, default is Undefined, optional
        tls
    """


    connectionPool?: FlaggerAppV1beta1CanarySpecServiceTrafficPolicyConnectionPool

    loadBalancer?: FlaggerAppV1beta1CanarySpecServiceTrafficPolicyLoadBalancer

    outlierDetection?: FlaggerAppV1beta1CanarySpecServiceTrafficPolicyOutlierDetection

    tls?: FlaggerAppV1beta1CanarySpecServiceTrafficPolicyTLS


schema FlaggerAppV1beta1CanarySpecServiceTrafficPolicyConnectionPool:
    """
    flagger app v1beta1 canary spec service traffic policy connection pool

    Attributes
    ----------
    http : FlaggerAppV1beta1CanarySpecServiceTrafficPolicyConnectionPoolHTTP, default is Undefined, optional
        http
    """


    http?: FlaggerAppV1beta1CanarySpecServiceTrafficPolicyConnectionPoolHTTP


schema FlaggerAppV1beta1CanarySpecServiceTrafficPolicyConnectionPoolHTTP:
    """
    HTTP connection pool settings.

    Attributes
    ----------
    h2UpgradePolicy : str, default is Undefined, optional
        Specify if http1.1 connection should be upgraded to http2 for the associated destination.
    http1MaxPendingRequests : int, default is Undefined, optional
        Maximum number of pending HTTP requests to a destination.
    http2MaxRequests : int, default is Undefined, optional
        Maximum number of requests to a backend.
    idleTimeout : str, default is Undefined, optional
        The idle timeout for upstream connection pool connections.
    maxRequestsPerConnection : int, default is Undefined, optional
        Maximum number of requests per connection to a backend.
    maxRetries : int, default is Undefined, optional
        max retries
    """


    h2UpgradePolicy?: "DEFAULT" | "DO_NOT_UPGRADE" | "UPGRADE"

    http1MaxPendingRequests?: int

    http2MaxRequests?: int

    idleTimeout?: str

    maxRequestsPerConnection?: int

    maxRetries?: int


schema FlaggerAppV1beta1CanarySpecServiceTrafficPolicyLoadBalancer:
    """
    Settings controlling the load balancer algorithms.

    Attributes
    ----------
    consistentHash : FlaggerAppV1beta1CanarySpecServiceTrafficPolicyLoadBalancerConsistentHash, default is Undefined, optional
        consistent hash
    localityLbSetting : FlaggerAppV1beta1CanarySpecServiceTrafficPolicyLoadBalancerLocalityLbSetting, default is Undefined, optional
        locality lb setting
    simple : str, default is Undefined, optional
        simple
    """


    consistentHash?: FlaggerAppV1beta1CanarySpecServiceTrafficPolicyLoadBalancerConsistentHash

    localityLbSetting?: FlaggerAppV1beta1CanarySpecServiceTrafficPolicyLoadBalancerLocalityLbSetting

    simple?: "ROUND_ROBIN" | "LEAST_CONN" | "RANDOM" | "PASSTHROUGH" | "LEAST_REQUEST"


schema FlaggerAppV1beta1CanarySpecServiceTrafficPolicyLoadBalancerConsistentHash:
    """
    flagger app v1beta1 canary spec service traffic policy load balancer consistent hash

    Attributes
    ----------
    httpCookie : FlaggerAppV1beta1CanarySpecServiceTrafficPolicyLoadBalancerConsistentHashHTTPCookie, default is Undefined, optional
        http cookie
    httpHeaderName : str, default is Undefined, optional
        Hash based on a specific HTTP header.
    httpQueryParameterName : str, default is Undefined, optional
        Hash based on a specific HTTP query parameter.
    minimumRingSize : int, default is Undefined, optional
        minimum ring size
    useSourceIp : bool, default is Undefined, optional
        Hash based on the source IP address.
    """


    httpCookie?: FlaggerAppV1beta1CanarySpecServiceTrafficPolicyLoadBalancerConsistentHashHTTPCookie

    httpHeaderName?: str

    httpQueryParameterName?: str

    minimumRingSize?: int

    useSourceIp?: bool


schema FlaggerAppV1beta1CanarySpecServiceTrafficPolicyLoadBalancerConsistentHashHTTPCookie:
    """
    Hash based on HTTP cookie.

    Attributes
    ----------
    name : str, default is Undefined, optional
        Name of the cookie.
    path : str, default is Undefined, optional
        Path to set for the cookie.
    ttl : str, default is Undefined, optional
        Lifetime of the cookie.
    """


    name?: str

    path?: str

    ttl?: str


schema FlaggerAppV1beta1CanarySpecServiceTrafficPolicyLoadBalancerLocalityLbSetting:
    """
    flagger app v1beta1 canary spec service traffic policy load balancer locality lb setting

    Attributes
    ----------
    distribute : [FlaggerAppV1beta1CanarySpecServiceTrafficPolicyLoadBalancerLocalityLbSettingDistributeItems0], default is Undefined, optional
        Optional: only one of distribute or failover can be set.
    enabled : bool, default is Undefined, optional
        enable locality load balancing, this is DestinationRule-level and will override mesh wide settings in entirety.
    failover : [FlaggerAppV1beta1CanarySpecServiceTrafficPolicyLoadBalancerLocalityLbSettingFailoverItems0], default is Undefined, optional
        Optional: only failover or distribute can be set.
    """


    distribute?: [FlaggerAppV1beta1CanarySpecServiceTrafficPolicyLoadBalancerLocalityLbSettingDistributeItems0]

    enabled?: bool

    failover?: [FlaggerAppV1beta1CanarySpecServiceTrafficPolicyLoadBalancerLocalityLbSettingFailoverItems0]


schema FlaggerAppV1beta1CanarySpecServiceTrafficPolicyLoadBalancerLocalityLbSettingDistributeItems0:
    """
    flagger app v1beta1 canary spec service traffic policy load balancer locality lb setting distribute items0

    Attributes
    ----------
    from : str, default is Undefined, optional
        Originating locality, '/' separated, e.g.
    to : {str:int}, default is Undefined, optional
        Map of upstream localities to traffic distribution weights.
    """


    from?: str

    to?: {str:int}


schema FlaggerAppV1beta1CanarySpecServiceTrafficPolicyLoadBalancerLocalityLbSettingFailoverItems0:
    """
    flagger app v1beta1 canary spec service traffic policy load balancer locality lb setting failover items0

    Attributes
    ----------
    from : str, default is Undefined, optional
        Originating region.
    to : str, default is Undefined, optional
        to
    """


    from?: str

    to?: str


schema FlaggerAppV1beta1CanarySpecServiceTrafficPolicyOutlierDetection:
    """
    Settings controlling eviction of unhealthy hosts from the load balancing pool.

    Attributes
    ----------
    baseEjectionTime : str, default is Undefined, optional
        Minimum ejection duration.
    consecutive5xxErrors : int, default is Undefined, optional
        Number of 5xx errors before a host is ejected from the connection pool.
    consecutiveErrors : int, default is Undefined, optional
        consecutive errors
    consecutiveGatewayErrors : int, default is Undefined, optional
        Number of gateway errors before a host is ejected from the connection pool.
    interval : str, default is Undefined, optional
        Time interval between ejection sweep analysis.
    maxEjectionPercent : int, default is Undefined, optional
        max ejection percent
    minHealthPercent : int, default is Undefined, optional
        min health percent
    """


    baseEjectionTime?: str

    consecutive5xxErrors?: int

    consecutiveErrors?: int

    consecutiveGatewayErrors?: int

    interval?: str

    maxEjectionPercent?: int

    minHealthPercent?: int


schema FlaggerAppV1beta1CanarySpecServiceTrafficPolicyTLS:
    """
    Istio TLS related settings for connections to the upstream service

    Attributes
    ----------
    caCertificates : str, default is Undefined, optional
        ca certificates
    clientCertificate : str, default is Undefined, optional
        REQUIRED if mode is `MUTUAL`.
    mode : str, default is Undefined, optional
        mode
    privateKey : str, default is Undefined, optional
        REQUIRED if mode is `MUTUAL`.
    sni : str, default is Undefined, optional
        SNI string to present to the server during TLS handshake.
    subjectAltNames : [str], default is Undefined, optional
        subject alt names
    """


    caCertificates?: str

    clientCertificate?: str

    mode?: "DISABLE" | "SIMPLE" | "MUTUAL" | "ISTIO_MUTUAL"

    privateKey?: str

    sni?: str

    subjectAltNames?: [str]


schema FlaggerAppV1beta1CanarySpecTargetRef:
    """
    Target selector

    Attributes
    ----------
    apiVersion : str, default is Undefined, required
        api version
    kind : str, default is Undefined, required
        kind
    name : str, default is Undefined, required
        name
    """


    apiVersion: str

    kind: "DaemonSet" | "Deployment" | "Service"

    name: str


schema FlaggerAppV1beta1CanarySpecUpstreamRef:
    """
    Gloo Upstream selector

    Attributes
    ----------
    apiVersion : str, default is Undefined, required
        api version
    kind : str, default is Undefined, required
        kind
    name : str, default is Undefined, required
        name
    namespace : str, default is Undefined, optional
        namespace
    """


    apiVersion: str

    kind: "Upstream"

    name: str

    namespace?: str


schema FlaggerAppV1beta1CanaryStatus:
    """
    CanaryStatus defines the observed state of a canary.

    Attributes
    ----------
    canaryWeight : float, default is Undefined, optional
        Traffic weight routed to canary
    conditions : [FlaggerAppV1beta1CanaryStatusConditionsItems0], default is Undefined, optional
        Status conditions of this canary
    failedChecks : float, default is Undefined, optional
        Failed check count of the current canary analysis
    iterations : float, default is Undefined, optional
        Iteration count of the current canary analysis
    lastAppliedSpec : str, default is Undefined, optional
        LastAppliedSpec of this canary
    lastPromotedSpec : str, default is Undefined, optional
        LastPromotedSpec of this canary
    lastTransitionTime : str, default is Undefined, optional
        LastTransitionTime of this canary
    phase : str, default is Undefined, optional
        Analysis phase of this canary
    previousSessionAffinityCookie : str, default is Undefined, optional
        Session affinity cookie of the previous canary run
    sessionAffinityCookie : str, default is Undefined, optional
        Session affinity cookie of the current canary run
    trackedConfigs : {str:str}, default is Undefined, optional
        TrackedConfig of this canary
    """


    canaryWeight?: float

    conditions?: [FlaggerAppV1beta1CanaryStatusConditionsItems0]

    failedChecks?: float

    iterations?: float

    lastAppliedSpec?: str

    lastPromotedSpec?: str

    lastTransitionTime?: str

    phase?: "" | "Initializing" | "Initialized" | "Waiting" | "Progressing" | "WaitingPromotion" | "Promoting" | "Finalising" | "Succeeded" | "Failed" | "Terminating" | "Terminated"

    previousSessionAffinityCookie?: str

    sessionAffinityCookie?: str

    trackedConfigs?: {str:str}


schema FlaggerAppV1beta1CanaryStatusConditionsItems0:
    """
    flagger app v1beta1 canary status conditions items0

    Attributes
    ----------
    lastTransitionTime : str, default is Undefined, optional
        LastTransitionTime of this condition
    lastUpdateTime : str, default is Undefined, optional
        LastUpdateTime of this condition
    message : str, default is Undefined, optional
        Message associated with this condition
    reason : str, default is Undefined, required
        Reason for the current status of this condition
    status : str, default is Undefined, required
        Status of this condition
    $type : str, default is Undefined, required
        Type of this condition
    """


    lastTransitionTime?: str

    lastUpdateTime?: str

    message?: str

    reason: str

    status: str

    $type: str


